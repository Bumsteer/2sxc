!function(){angular.module("Adam",["SxcServices","EavConfiguration","EavServices"])}(),function(){angular.module("Adam",[]).directive("adamHint",function(){return{restrict:"E",replace:!1,transclude:!1,templateUrl:"adam/adam-hint.html"}})}(),angular.module("Adam").factory("adamSvc",["$http","eavConfig","sxc","svcCreator","appRoot",function(a,b,c,d,e){return function(b,f,g,h){var i={url:c.resolveServiceUrl("app-content/"+b+"/"+f+"/"+g),subfolder:h,folders:[],adamRoot:e.substr(0,e.indexOf("2sxc"))};return i.uploadUrl=function(a){return""===a?i.url:i.url+"?subfolder="+a},i.addFullPath=function(a,b){a.fullPath=i.adamRoot+a.Path},i=angular.extend(i,d.implementLiveList(function(){return a.get(i.url+"/items",{params:{subfolder:i.subfolder}}).then(function(a){return angular.forEach(a.data,i.addFullPath),a})})),i.addFolder=function(b){return a.post(i.url+"/folder",{},{params:{subfolder:i.subfolder,newFolder:b}}).then(i.liveListReload)},i.goIntoFolder=function(a){i.folders.push(a);for(var b=a.Path.split("/"),c="",d=0;d<i.folders.length;d++)c=b[b.length-d-2]+"/"+c;return c=c.replace("//","/"),"/"===c[c.length-1]&&(c=c.substr(0,c.length-1)),a.Subfolder=c,i.subfolder=c,i.liveListReload(),c},i.goUp=function(){return i.folders.length>0&&i.folders.pop(),i.folders.length>0?i.subfolder=i.folders[i.folders.length-1].Subfolder:i.subfolder="",i.liveListReload(),i.subfolder},i["delete"]=function(b){return a.get(i.url+"/delete",{params:{subfolder:i.subfolder,isFolder:b.IsFolder,id:b.Id}}).then(i.liveListReload)},i}}]),function(){"use strict";function a(a,b,c,d,e,f,g){var h=this;h.debug=c,h.contentTypeName=a.contentTypeName,h.entityGuid=a.entityGuid,h.fieldName=a.fieldName,h.show=!1,h.subFolder=a.subFolder||"",h.appRoot=f,h.showImagesOnly=a.showImagesOnly=a.showImagesOnly||!1,h.folderDepth="undefined"!=typeof a.folderDepth&&null!==a.folderDepth?a.folderDepth:2,h.showFolders=!!h.folderDepth,h.allowAssetsInRoot=a.allowAssetsInRoot||!0,h.metadataContentTypes=a.metadataContentTypes||"",h.disabled=a.ngDisabled,h.enableSelect=a.enableSelect===!1?!1:!0,h.activate=function(){a.autoLoad&&h.toggle(),a.registerSelf&&a.registerSelf(h)},h.svc=b(h.contentTypeName,h.entityGuid,h.fieldName,h.subFolder),h.refresh=h.svc.liveListReload,h.get=function(){h.items=h.svc.liveList(),h.folders=h.svc.folders},h.toggle=function(a){var b=!1;a&&(b=h.showImagesOnly!==a.showImagesOnly,h.showImagesOnly=a.showImagesOnly),h.show=b||!h.show,h.show&&h.get()},h.openUpload=function(){h.dropzone.openUpload()},h.select=function(b){!h.disabled&&h.enableSelect&&a.updateCallback(b)},h.addFolder=function(){if(!h.disabled){var a=window.prompt("Folder Name?");a&&h.svc.addFolder(a).then(h.refresh)}},h.del=function(a){if(!h.disabled){var b=window.confirm("delete ok?");b&&h.svc["delete"](a)}},h.goIntoFolder=function(a){var b=h.svc.goIntoFolder(a);h.subFolder=b},h.goUp=function(){h.subFolder=h.svc.goUp()},h.currentFolderDepth=function(){return h.svc.folders.length},h.allowCreateFolder=function(){return h.svc.folders.length<h.folderDepth},h.editMetadata=function(a){var b=[h._itemDefinition(a,h.getMetadataType(a))];e.openEditItems(b,h.refresh)},h.getMetadataType=function(a){var b;return"folder"===a.Type?(b=h.metadataContentTypes.match(/^(folder)(:)([^\n]*)/im),b?b[3]:null):(b=h.metadataContentTypes.match(/^([^:\n]*)(\n|$)/im),b?b[1]:null)},h._itemDefinition=function(a,b){var c="EditFormTitle.Metadata";return 0!==a.MetadataId?{EntityId:a.MetadataId,Title:c}:{ContentTypeName:b,Metadata:{Key:("folder"===a.Type?"folder":"file")+":"+a.Id,KeyType:"string",TargetType:d.metadataOfCmsObject},Title:c,Prefill:{EntityTitle:a.Name}}},h.icon=function(a){return g.getIconClass(a.Name)},h.activate()}var b=angular.module("Adam");b.controller("BrowserController",a),a.$inject=["$scope","adamSvc","debugState","eavConfig","eavAdminDialogs","appRoot","fileType"]}(),function(){angular.module("Adam").directive("adamBrowser",function(){return{restrict:"E",templateUrl:"adam/browser.html",transclude:!1,require:"^dropzone",link:function(a,b,c,d){d.adam=a.vm,a.vm.dropzone=d},scope:{contentTypeName:"=",entityGuid:"=",fieldName:"=",subFolder:"=",folderDepth:"=",metadataContentTypes:"=",allowAssetsInRoot:"=",showImagesOnly:"=",autoLoad:"=",updateCallback:"=",registerSelf:"=",enableSelect:"=",ngDisabled:"="},controller:"BrowserController",controllerAs:"vm"}})}(),function(){angular.module("Adam").directive("dropzoneUploadPreview",function(){return{restrict:"E",templateUrl:"adam/dropzone-upload-preview.html",replace:!0,transclude:!1}})}(),angular.module("Adam").directive("dropzone",["sxc","tabId","AppInstanceId","ContentBlockId","dragClass","adamSvc","$timeout",function(a,b,c,d,e,f,g){return{restrict:"C",link:function(a,e,h,i){var j=a.$parent.to.header,k=a.$parent.options.key,l=j.Guid,m=f(j.ContentTypeName,l,k,""),n=m.url,o={url:n,urlRoot:n,maxFilesize:100,paramName:"uploadfile",maxThumbnailFilesize:10,headers:{ModuleId:c,TabId:b,ContentBlockId:d},dictDefaultMessage:"",addRemoveLinks:!1,previewsContainer:".field-"+k.toLowerCase()+" .dropzone-previews",clickable:".field-"+k.toLowerCase()+" .invisible-clickable"},p={addedfile:function(b){g(function(){a.$apply(function(){a.uploading=!0})})},processing:function(a){this.options.url=m.uploadUrl(i.adam.subFolder)},success:function(b,c){c.Success?(m.addFullPath(c),a.$parent.afterUpload(c)):alert("Upload failed because: "+c.Error)},queuecomplete:function(b){0===this.getUploadingFiles().length&&0===this.getQueuedFiles().length&&(a.uploading=!1,i.adam.refresh())}},q=new Dropzone(e[0],o);angular.forEach(p,function(a,b){q.on(b,a)}),a.processDropzone=function(){q.processQueue()},a.resetDropzone=function(){q.removeAllFiles()},i.openUpload=function(){q.hiddenFileInput.click()}},controller:function(){var a=this;a.adam={show:!1,subFolder:"",refresh:function(){}}}}}]),function(){"use strict";angular.module("sxcFieldTemplates",["formly","formlyBootstrap","ui.bootstrap","ui.tree","2sxc4ng","SxcEditTemplates","EavConfiguration","eavFieldTemplates","SxcServices","Adam","oc.lazyLoad"])}(),angular.module("sxcFieldTemplates").factory("dnnBridgeSvc",["$modal","$http","promiseToastr","eavConfig","sxc",function(a,b,c,d,e){var f={};return f.open=function(b,c,d,e){var f="pagepicker"===b?"pagepicker":"filemanager",g={params:d,valueChanged:e,dialogType:b};return g.valueChanged=function(a,b){g.modalInstance.close(),e(a,b)},g.params.CurrentValue=c,g.modalInstance=a.open({templateUrl:"fields/dnn-bridge/hyperlink-default-"+f+".html",resolve:{bridge:function(){return g}},controller:["$scope","bridge",function(a,b){a.bridge=b}],windowClass:"sxc-dialog-filemanager"}),g.modalInstance},f.convertPathToId=function(a,d){var e=a.replace(/\?ver=[0-9\-]*$/gi,""),f=b.get("dnn/Hyperlink/GetFileByPath?relativePath="+encodeURIComponent(e),{});return c(f,"Edit.Field.Hyperlink.Message.Loading","Edit.Field.Hyperlink.Message.Ok","Edit.Field.Hyperlink.Message.Error",0,0,1e3)},f.getUrlOfId=function(a){var c=a.toLowerCase();return-1!==c.indexOf("file:")||-1!==c.indexOf("page:")?b.get("dnn/Hyperlink/ResolveHyperlink?hyperlink="+encodeURIComponent(a)):null},f}]),function(){"use strict";angular.module("sxcFieldTemplates").directive("webFormsBridge",["sxc","portalRoot",function(a,b){var c=b+"Default.aspx?tabid="+$2sxc.urlParams.require("tid")+"&ctl=webformsbridge&mid="+a.id+"&dnnprintmode=true&SkinSrc=%5bG%5dSkins%2f_default%2fNo+Skin&ContainerSrc=%5bG%5dContainers%2f_default%2fNo+Container";return{restrict:"A",scope:{type:"@bridgeType",bridge:"=webFormsBridge",bridgeSyncHeight:"@bridgeSyncHeight"},link:function(a,b,d){var e="";a.bridge.params&&(e=Object.keys(a.bridge.params).map(function(b){return null!==a.bridge.params[b]&&""!==a.bridge.params[b]?[b,a.bridge.params[b]].map(encodeURIComponent).join("="):void 0}).join("&")),b[0].src=c+"&type="+a.type+(a.bridge.params?"&"+e:""),b.on("load",function(){var c=b[0].contentWindow||b[0];if(!c.connectBridge)return alert("can't connect to the dialog - you are probably running a new DNN (v.8+) and didn't activate the old Telerik components. Please install these in the host > extensions to get this to work");if(c.connectBridge(a.bridge),"true"===a.bridgeSyncHeight){var d=function(){b.css("height",""),b.css("height",c.document.body.scrollHeight+"px")};d(),c.$(c.document).ready(function(){d()}),c.$(c.document).on("triggerbridgeresize",function(){window.setTimeout(d,0)})}})}}}])}(),function(){"use strict";angular.module("sxcFieldTemplates").config(["formlyConfigProvider",function(a){a.setType({name:"entity-content-blocks",templateUrl:"fields/entity/entity-default.html",wrapper:["eavLabel","bootstrapHasError","collapsible"],controller:"FieldTemplate-EntityContentBlockCtrl"})}]).controller("FieldTemplate-EntityContentBlockCtrl",["$controller","$scope","$http","$filter","$translate","$modal","appId","eavAdminDialogs","eavDefaultValueService",function(a,b,c,d,e,f,g,h,i){a("FieldTemplate-EntityCtrl",{$scope:b}),b.to.settings.merged.EnableRemove=!0,b.to.settings.merged.AllowMultiValue=!0,b.to.enableCollapseField=!0,b.to.collapseField=!0}])}(),function(){"use strict";angular.module("sxcFieldTemplates").config(["formlyConfigProvider","fieldWrappersWithPreview",function(a,b){a.setType({name:"hyperlink-default",templateUrl:"fields/hyperlink/hyperlink-default.html",wrapper:b,controller:"FieldTemplate-HyperlinkCtrl as vm"})}]).controller("FieldTemplate-HyperlinkCtrl",["$modal","$scope","$http","sxc","adamSvc","debugState","dnnBridgeSvc","fileType",function(a,b,c,d,e,f,g,h){var i=this;i.debug=f,i.testLink="",i.isImage=function(){return h.isImage(i.testLink)},i.thumbnailUrl=function(a){return 1===a?i.testLink+"?w=64&h=64&mode=crop":2===a?i.testLink+"?w=500&h=400&mode=max":void 0},i.icon=function(){return h.getIconClass(i.testLink)},i.tooltipUrl=function(a){return a.replace(/\//g,"/&#8203;")},b.$watch("value.Value",function(a,b){if(a){var c=g.getUrlOfId(a);c?c.then(function(a){a.data&&(i.testLink=a.data)}):i.testLink=a}}),i.processResultOfDnnBridge=function(a,c){b.$apply(function(){a&&("page"===c&&(b.value.Value="page:"+a.id),("file"===c||"image"===c)&&g.convertPathToId(a,c).then(function(a){a.data&&(b.value.Value="file:"+a.data.FileId)}))})},i.openDialog=function(a){g.open(a,b.value.Value,{Paths:b.to.settings.merged?b.to.settings.merged.Paths:"",FileFilter:b.to.settings.merged?b.to.settings.merged.FileFilter:""},i.processResultOfDnnBridge)},i.registerAdam=function(a){i.adam=a},i.setValue=function(a){b.value.Value="File:"+a.Id},b.afterUpload=i.setValue,i.toggleAdam=function(){i.adam.toggle()}}])}(),function(){"use strict";angular.module("sxcFieldTemplates").config(["formlyConfigProvider",function(a){a.setType({name:"hyperlink-library",templateUrl:"fields/hyperlink/hyperlink-library.html",wrapper:["eavLabel","bootstrapHasError","eavLocalization","collapsible"],controller:"FieldTemplate-Library as vm"})}]).controller("FieldTemplate-Library",["$modal","$scope","$http","sxc","adamSvc","debugState",function(a,b,c,d,e,f){var g=this;g.debug=f,g.modalInstance=null,g.testLink="",g.registerAdam=function(a){g.adam=a},b.afterUpload=function(a){},g.toggleAdam=function(){g.adam.toggle()}}])}(),angular.module("sxcFieldTemplates").config(["formlyConfigProvider","fieldWrappersWithPreview",function(a,b){a.setType({name:"string-font-icon-picker",templateUrl:"fields/string/string-font-icon-picker.html",wrapper:b,controller:"FieldTemplate-String-Font-Icon-Picker as vm"})}]).controller("FieldTemplate-String-Font-Icon-Picker",["$scope","debugState","$ocLazyLoad","appRoot",function(a,b,c,d){function e(a){var b=a.length,c=[],d={};if(!a)return c;for(var e=0;e<document.styleSheets.length;e++){var f=document.styleSheets[e].rules||document.styleSheets[e].cssRules;if(f)for(var g=0;g<f.length;g++)if(f[g].selectorText&&f[g].selectorText.substring(0,b)===a){var h=f[g].selectorText,i=h.substring(0,h.indexOf(":")).replace(".","");d[i]||(c.push({rule:f[g],"class":i}),d[i]=!0)}}return c}function f(a){a=a||"";var b=a.replace("[App:Path]",d).replace(/([\w])\/\/([\w])/g,"$1/$2"),e=b?b.split("\n"):[];return c.load(e)}var g=angular.extend(this,{iconFilter:"",prefix:"",previewPrefix:"",icons:[],useTestValues:!1,selectorIsOpen:!1});g.setIcon=function(b){a.value.Value=b,g.selectorIsOpen=!1,a.form.$setDirty()},g.activate=function(){var c=a.to.settings["string-font-icon-picker"];g.files=c?c.Files||"":"",g.prefix=c?c.CssPrefix||"":"",g.previewPrefix=c?c.PreviewCss||"":"",g.useTestValues&&angular.extend(g,{iconFilter:"",prefix:".glyphicon-",previewPrefix:"glyphicon"}),f(g.files).then(function(){g.icons=e(g.prefix)}),g.debug=b,b.on&&console.log(a.options.templateOptions)},g.activate()}]),function(){"use strict";angular.module("sxcFieldTemplates").config(["formlyConfigProvider",function(a){a.setType({name:"string-wysiwyg-adv",templateUrl:"fields/string/string-wysiwyg-adv.html",wrapper:["eavLabel","bootstrapHasError","eavLocalization","collapsible"]})}])}(),function(){"use strict";angular.module("sxcFieldTemplates").config(["formlyConfigProvider",function(a){a.setType({name:"string-wysiwyg-dnn",templateUrl:"fields/string/string-wysiwyg-dnn.html",wrapper:["eavLabel","bootstrapHasError","eavLocalization","collapsible"],controller:"FieldTemplate-WysiwygCtrl as vm"})}]).controller("FieldTemplate-WysiwygCtrl",["$scope",function(a){var b=this;b.bridge={initialValue:"",initialReadOnly:!1,onChanged:function(b){a.$apply(function(){a.value.Value=b})},setValue:function(a){b.bridge.initialValue=a},setReadOnly:function(a){b.bridge.initialReadOnly=a}},a.$watch("value.Value",function(a,c){a!==c&&b.bridge.setValue(a)}),a.$watch("to.disabled",function(a,c){a!==c&&b.bridge.setReadOnly(a)})}])}(),function(){"use strict";function a(a,d,e,f){var g=this;g.activate=function(){var d="de,es,fr,it,uk,nl".split(","),h=["code","contextmenu","autolink","tabfocus","image","link","paste","anchor","charmap","hr","media","nonbreaking","searchreplace","table","lists"],i={standard:{menubar:!1,toolbar:" undo redo removeformat | bold formatgroup | h1 h2 hgroup | numlist | linkfiles linkgroup | modeadvanced ",contextmenu:"charmap hr"},advanced:{menubar:!0,toolbar:" undo redo removeformat | styleselect | bold italic | h1 h2 hgroup | bullist numlist outdent indent | images linkfiles linkgrouppro | code modestandard ",contextmenu:"link image | charmap hr adamimage"}};a.tinymceOptions={baseURL:"//cdn.tinymce.com/4",inline:!0,automatic_uploads:!1,modes:i,menubar:i.standard.menubar,toolbar:i.standard.toolbar,plugins:h.join(" "),contextmenu:i.standard.contextmenu,autosave_ask_before_unload:!1,paste_as_text:!0,extended_valid_elements:"@[class],i,hr[sxc|guid]",custom_elements:"hr[sxc|guid]",relative_urls:!1,default_link_target:"_blank",object_resizing:!1,skin:"lightgray",theme:"modern",language:"en",setup:function(d){g.editor=d,a.tinymceOptions.language&&b(d,a.tinymceOptions.language,f),c(d,g)}};var j=e.currentLanguage.substr(0,2);d.indexOf(j)>=0&&angular.extend(a.tinymceOptions,{language:j,language_url:"../i18n/lib/tinymce/"+j+".js"})},g.registerAdam=function(a){g.adam=a},g.setValue=function(a,b){void 0===b&&(b=g.adamModeImage),g.editor.insertContent(b?'<img src="'+a.fullPath+'">':'<a href="'+a.fullPath+'">'+a.Name.substr(0,a.Name.lastIndexOf("."))+"</a>")},a.afterUpload=function(a){g.setValue(a,"image"===a.Type)},g.toggleAdam=function(b){g.adamModeImage=b,g.adam.toggle({showImagesOnly:b}),a.$apply()},g.openDnnDialog=function(a){d.open(a,"",{Paths:null,FileFilter:null},g.processResultOfDnnBridge)},g.processResultOfDnnBridge=function(b,c){a.$apply(function(){if(b){var a=g.editor.selection.getContent();if("page"===c){var e=d.getUrlOfId(c+":"+(b.id||b.FileId));return e.then(function(c){g.editor.insertContent('<a href="'+c.data+'">'+(a||b.name)+"</a>")})}if("file"===c){var f=b.substr(b.lastIndexOf("/")+1);f=f.substr(0,f.lastIndexOf(".")),g.editor.insertContent('<a href="'+b+'">'+(a||f)+"</a>")}else"image"===c&&g.editor.insertContent('<img src="'+b+'">')}})},g.activate()}function b(a,b,c){for(var e=[],f={},g="Extension.TinyMce.",h=0;h<d.length;h++)e.push(g+d[h]);var i=c.instant(e);for(h=0;h<d.length;h++)f[d[h]]=i[g+d[h]];tinymce.addI18n(b,f)}function c(a,b){function c(b){return function(){var c=this;a.formatter?a.formatter.formatChanged(b,function(a){c.active(a)}):a.on("init",function(){a.formatter.formatChanged(b,function(a){c.active(a)})})}}function d(a,b){for(var c={},d=0;d<e.length;d++)c["imgwidth"+e[d]]=[{selector:"img",collapsed:!1,styles:{width:e[d]+"%"}}];a.formatter.register(c)}function f(b){a.settings.toolbar=a.settings.modes[b].toolbar,a.settings.menubar=a.settings.modes[b].menubar,a.theme.panel.remove(),a.theme.renderUI(a),a.execCommand("mceFocus"),document.getElementById("dummyfocus").focus(),setTimeout(function(){a.focus()},100)}function g(b){return function(){a.formatter.apply("imgwidth"+b)}}function h(b){return function(c){var d=a.dom.is(c,b)&&a.getBody().contains(c);return d}}a.on("init",function(){d(a,b)}),a.addButton("linkfiles",{type:"splitbutton",icon:" icon-file-pdf",title:"Link.AdamFile.Tooltip",onclick:function(){b.toggleAdam(!1)},menu:[{text:"Link.AdamFile",tooltip:"Link.AdamFile.Tooltip",icon:" icon-file-pdf",onclick:function(){b.toggleAdam(!1)}},{text:"Link.DnnFile",tooltip:"Link.DnnFile.Tooltip",icon:" icon-file",onclick:function(){b.openDnnDialog("documentmanager")}}]});var i={type:"splitbutton",icon:"link",title:"Link",onPostRender:c("link"),onclick:function(){a.execCommand("mceLink")},menu:[{icon:"link",text:"Link",onclick:function(){a.execCommand("mceLink")}},{text:"Link.Page",tooltip:"Link.Page.Tooltip",icon:" icon-sitemap",onclick:function(){b.openDnnDialog("pagepicker")}}]},j=angular.copy(i);j.menu.push({icon:" icon-anchor",text:"Anchor",tooltip:"Link.Anchor.Tooltip",onclick:function(){a.execCommand("mceAnchor")}}),a.addButton("linkgroup",i),a.addButton("linkgrouppro",j),a.addButton("images",{type:"splitbutton",text:"",icon:"image",onclick:function(){b.toggleAdam(!0)},menu:[{text:"Image.AdamImage",tooltip:"Image.AdamImage.Tooltip",icon:"image",onclick:function(){b.toggleAdam(!0)}},{text:"Image.DnnImage",tooltip:"Image.DnnImage.Tooltip",icon:"image",onclick:function(){b.openDnnDialog("imagemanager")}},{text:"Insert/edit image",icon:"image",onclick:function(){a.execCommand("mceImage")}},{icon:"alignleft",tooltip:"Align left",onclick:function(){a.execCommand("JustifyLeft")}},{icon:"aligncenter",tooltip:"Align center",onclick:function(){a.execCommand("JustifyCenter")}},{icon:"alignright",tooltip:"Align right",onclick:function(){a.execCommand("JustifyRight")}}]}),a.addButton("formatgroup",{type:"splitbutton",tooltip:"Italic",text:"",icon:"italic",cmd:"italic",onPostRender:c("italic"),menu:[{icon:"strikethrough",text:"Strikethrough",onclick:function(){a.execCommand("strikethrough")}},{icon:"superscript",text:"Superscript",onclick:function(){a.execCommand("superscript")}},{icon:"subscript",text:"Subscript",onclick:function(){a.execCommand("subscript")}}]}),a.addButton("modestandard",{icon:" icon-cancel",tooltip:"SwitchMode.Standard",onclick:function(){f("standard")}}),a.addButton("modeadvanced",{icon:" icon-pro",tooltip:"SwitchMode.Pro",onclick:function(){f("advanced")}}),[["pre","Preformatted","Preformatted"],["p","Paragraph","Paragraph"],["code","Code","Code"],["h1","Heading 1","H1"],["h2","Heading 2","H2"],["h3","Heading 3","H3"],["h4","Heading 4","Heading 4"],["h5","Heading 5","Heading 5"],["h6","Heading 6","Heading 6"]].forEach(function(b){a.addButton(b[0],{tooltip:b[1],text:b[2],onclick:function(){a.execCommand("mceToggleFormat",!1,b[0])},onPostRender:function(){var c=this,d=function(){a.formatter.formatChanged(b[0],function(a){c.active(a)})};a.formatter?d():a.on("init",d)}})}),a.addButton("hgroup",angular.extend({},a.buttons.h3,{type:"splitbutton",menu:[a.buttons.h4,a.buttons.h5,a.buttons.h6,a.buttons.p]})),a.addButton("alignimgleft",{icon:" icon-align-left",tooltip:"Align left",cmd:"JustifyLeft",onPostRender:c("alignleft")}),a.addButton("alignimgcenter",{icon:" icon-align-center",tooltip:"Align center",cmd:"justifycenter",onPostRender:c("aligncenter")}),a.addButton("alignimgright",{icon:" icon-align-right",tooltip:"Align right",cmd:"justifyright",onPostRender:c("alignright")});for(var k=[],l=0;l<e.length;l++){var m={icon:" icon-resize-horizontal",tooltip:e[l]+"%",text:e[l]+"%",onclick:g(e[l]),onPostRender:c("imgwidth"+e[l])};a.addButton("imgresize"+e[l],m),k.push(m)}a.addButton("resizeimg100",{icon:" icon-resize-horizontal",tooltip:"100%",onclick:function(){a.formatter.apply("imgwidth100")},onPostRender:c("imgwidth100")}),a.addButton("imgresponsive",angular.extend({},a.buttons.resizeimg100,{type:"splitbutton",menu:k})),a.addContextToolbar(h("a"),"link unlink"),a.addContextToolbar(h("img"),"image | alignimgleft alignimgcenter alignimgright imgresponsive | removeformat | remove"),a.addContextToolbar(h("li,ol,ul"),"bullist numlist | outdent indent")}angular.module("sxcFieldTemplates").config(["formlyConfigProvider","defaultFieldWrappers",function(a,b){a.setType({name:"string-wysiwyg-tinymce",templateUrl:"fields/string/string-wysiwyg-tinymce.html",wrapper:b,controller:"FieldWysiwygTinyMce as vm"})}]).controller("FieldWysiwygTinyMce",a);var d=["Link.AdamFile","Link.AdamFile.Tooltip","Image.AdamImage","Image.AdamImage.Tooltip","Link.DnnFile","Link.DnnFile.Tooltip","Link.Page","Link.Page.Tooltip","Image.DnnImage","Image.DnnImage.Tooltip","Link.Anchor.Tooltip","SwitchMode.Pro","SwitchMode.Standard","H1","H2","H3","Remove"],e=[100,75,70,66,60,50,40,33,30,25,10];a.$inject=["$scope","dnnBridgeSvc","languages","$translate"]}(),angular.module("SxcEditTemplates",[]).run(["$templateCache",function(a){"use strict";a.put("adam/adam-hint.html",'<div class="small pull-right"><span style="opacity: 0.5">drop files here -</span> <a href="http://2sxc.org/help?tag=adam" target=_blank tooltip="ADAM is the Automatic Digital Assets Manager - click to discover more"><i class=icon-apple></i> Adam</a> <span style="opacity: 0.5">is sponsored with <i class=icon-heart></i> by <a tabindex=-1 href="http://2sic.com/" target=_blank>2sic.com</a></span></div>'),a.put("adam/browser.html",'<div ng-if=vm.show><div class="dz-preview dropzone-adam" ng-disabled=vm.disabled tooltip="{{\'Edit.Fields.Hyperlink.Default.AdamUploadLabel\' | translate }}" ng-click=vm.openUpload()><div class="dz-image adam-browse-background-icon adam-browse-background" xstyle="background-color: whitesmoke"><i class=icon-up-circled2></i><div class=adam-short-label>drop files</div></div></div><div ng-show="vm.allowCreateFolder() || vm.debug.on" class=dz-preview ng-disabled=vm.disabled ng-click=vm.addFolder()><div class="dz-image adam-browse-background-icon adam-browse-background"><div><i class=icon-folder-empty></i><div class=adam-short-label>new folder</div></div></div><div class="adam-background adam-browse-background-icon"><i class=icon-plus style="font-size: 2em; top: 13px; position: relative"></i></div><div class=dz-details style="opacity: 1"></div></div><div ng-show="vm.showFolders || vm.debug.on" class=dz-preview ng-disabled=vm.disabled ng-if="vm.folders.length > 0" ng-click=vm.goUp()><div class="dz-image adam-browse-background-icon adam-browse-background"><i class=icon-folder-empty></i><div class=adam-short-label>up</div></div><div class="adam-background adam-browse-background-icon"><i class=icon-level-up style="font-size: 2em; top: 13px; position: relative"></i></div></div><div ng-show="vm.showFolders || vm.debug.on" class=dz-preview ng-repeat="item in vm.items | filter: { IsFolder: true }  | orderBy:\'Name\'" ng-click=vm.goIntoFolder(item)><div class="dz-image adam-blur adam-browse-background-icon adam-browse-background"><i class=icon-folder-empty></i><div class=short-label>{{ item.Name }}</div></div><div class="dz-details file-type-{{item.Type}}"><span ng-click=vm.del(item) stop-event=click class=adam-delete-button><i class=icon-cancel></i></span><div class=adam-full-name-area><div class=adam-full-name>{{ item.Name }}</div></div></div><span class=adam-tag ng-class="{\'metadata-exists\': item.MetadataId > 0}" ng-click=vm.editMetadata(item) ng-if=vm.getMetadataType(item) stop-event=click tooltip={{vm.getMetadataType(item)}}:{{item.MetadataId}}><i class=icon-tag style="font-size: larger"></i></span></div><div class=dz-preview ng-class="{ \'dz-success\': value.Value.toLowerCase() == \'file:\' + item.Id }" ng-repeat="item in (vm.items | filter: { IsFolder: false }) | filter: (vm.showImagesOnly ? {Type: \'image\'} : {})  | orderBy:\'Name\'" ng-click=vm.select(item) ng-disabled="vm.disabled || !vm.enableSelect"><div ng-if="item.Type !== \'image\'" class="dz-image adam-blur adam-browse-background-icon adam-browse-background"><i ng-class=vm.icon(item)></i><div class=adam-short-label>{{ item.Name }}</div></div><div ng-if="item.Type === \'image\'" class=dz-image><img data-dz-thumbnail="" alt="{{ item.Id + \':\' + item.Name\r\n}}" ng-src="{{ item.fullPath + \'?w=120&h=120&mode=crop\' }}"></div><div class="dz-details file-type-{{item.Type}}"><span ng-click=vm.del(item) stop-event=click class=adam-delete-button><i class=icon-cancel></i></span><div class=adam-full-name-area><div class=adam-full-name>{{ item.Name }}</div></div><div class="dz-filename adam-short-label"><span>#{{ item.Id }} - {{ (item.Size / 1024).toFixed(0) }} kb</span></div></div><span class=adam-tag ng-class="{\'metadata-exists\': item.MetadataId > 0}" ng-click=vm.editMetadata(item) ng-if=vm.getMetadataType(item) stop-event=click tooltip={{vm.getMetadataType(item)}}:{{item.MetadataId}}><i class=icon-tag style="font-size: larger"></i></span><div class=dz-success-mark><svg width=54px height=54px viewbox="0 0 54 54" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink xmlns:sketch=http://www.bohemiancoding.com/sketch/ns><title>Check</title><defs></defs><g id=Page-1 stroke=none stroke-width=1 fill=none fill-rule=evenodd sketch:type=MSPage><path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id=Oval-2 stroke-opacity=0.198794158 stroke=#747474 fill-opacity=0.816519475 fill=#FFFFFF sketch:type=MSShapeGroup></path></g></svg></div></div></div>'),a.put("adam/dropzone-upload-preview.html",'<div ng-show=uploading><div class=dropzone-previews></div><span class=invisible-clickable data-note="just a fake, invisble area for dropzone"></span></div>'),a.put("fields/dnn-bridge/hyperlink-default-filemanager.html",'<div><iframe class=sxc-dialog-filemanager-iframe style="width:100%; height:100%; overflow:hidden; border: 0" scrolling=no web-forms-bridge=bridge bridge-type=filemanager bridge-sync-height=false></iframe></div><style>.sxc-dialog-filemanager .modal-dialog { width: 100%;height: 100%;margin: 0; }\r\n	.sxc-dialog-filemanager .modal-content { background: none;height: 100%; }\r\n	.sxc-dialog-filemanager-iframe { position: absolute;top: 0;left: 0;right: 0;bottom: 0; }</style>'),a.put("fields/dnn-bridge/hyperlink-default-pagepicker.html",'<div><div class=modal-header><h3 class=modal-title translate=Edit.Fields.Hyperlink.PagePicker.Title></h3></div><div class=modal-body style="height:370px; width:600px"><iframe style="width:100%; height: 350px; border: 0" web-forms-bridge=bridge bridge-type=pagepicker bridge-sync-height=false></iframe></div><div class=modal-footer></div></div>'),a.put("fields/hyperlink/hyperlink-default.html",'<div><div class=dropzone><div ng-if="value.Value && vm.isImage()" class=thumbnail-before-input style="background-image: url(\'{{vm.thumbnailUrl(1)}}\')" ng-mouseover="vm.showPreview = true" ng-mouseleave="vm.showPreview = false"></div><a ng-if="value.Value && !vm.isImage()" class=icon-before-input href={{vm.testLink}} target=_blank tabindex=-1 tooltip-html-unsafe={{vm.tooltipUrl(vm.testLink)}} tooltip-placement=right ng-class="vm.isImage() ? \'\':vm.icon()" ng-style="vm.isImage() ? \'background-image: url(\\\'\' + vm.thumbnailUrl(1) +\'\\\')\': \'\'"></a><div ng-if=!value.Value class="thumbnail-before-input empty-placeholder"></div><div class=input-group dropdown><input type=text class="form-control input-lg" ng-model=value.Value tooltip="{{\'Edit.Fields.Hyperlink.Default.Tooltip1\' | translate }}\r\n{{\'Edit.Fields.Hyperlink.Default.Tooltip2\' | translate }}\r\nADAM - sponsored with ♥ by 2sic.com"> <span class=input-group-btn style="vertical-align: top"><button type=button class="btn btn-primary btn-lg icon-field-button" ng-disabled=to.disabled tooltip="{{\'Edit.Fields.Hyperlink.Default.AdamUploadLabel\' | translate }}" ng-click=vm.toggleAdam()><i class=icon-apple></i></button> <button tabindex=-1 type=button class="btn btn-default dropdown-toggle btn-lg btn-square icon-field-button" dropdown-toggle ng-disabled=to.disabled><i class=icon-options></i></button></span><ul class="dropdown-menu pull-right" role=menu><li role=menuitem><a class=dropzone-adam href=javascript:void(0);><i class=icon-apple></i> <span translate=Edit.Fields.Hyperlink.Default.MenuAdam></span></a></li><li role=menuitem ng-if="to.settings[\'merged\'].ShowPagePicker"><a ng-click="vm.openDialog(\'pagepicker\')" href=javascript:void(0)><i class=icon-sitemap xicon=home></i> <span translate=Edit.Fields.Hyperlink.Default.MenuPage></span></a></li><li role=menuitem ng-if="to.settings[\'merged\'].ShowImageManager"><a ng-click="vm.openDialog(\'imagemanager\')" href=javascript:void(0)><i class=icon-file-image xicon=picture></i> <span translate=Edit.Fields.Hyperlink.Default.MenuImage></span></a></li><li role=menuitem ng-if="to.settings[\'merged\'].ShowFileManager"><a ng-click="vm.openDialog(\'documentmanager\')" href=javascript:void(0)><i class=icon-file xicon=file></i> <span translate=Edit.Fields.Hyperlink.Default.MenuDocs></span></a></li></ul></div><div ng-if=vm.showPreview style="position: relative"><div style="position: absolute; z-index: 100; background: white; top: 10px; text-align: center; left: 0; right: 0"><img ng-src="{{vm.thumbnailUrl(2)}}"></div></div><adam-hint class=field-hints></adam-hint><div ng-if=value.Value class=field-hints><a href={{vm.testLink}} target=_blank tabindex=-1 tooltip-html-unsafe={{vm.tooltipUrl(vm.testLink)}}><span>&nbsp;... {{vm.testLink.substr(vm.testLink.lastIndexOf("/"), 100)}}</span></a></div><adam-browser content-type-name=to.header.ContentTypeName entity-guid=to.header.Guid field-name=options.key auto-load=false folder-depth=0 sub-folder="" update-callback=vm.setValue register-self=vm.registerAdam ng-disabled=to.disabled></adam-browser><dropzone-upload-preview></dropzone-upload-preview></div></div>'),a.put("fields/hyperlink/hyperlink-library.html",'<div><div class=dropzone><adam-browser content-type-name=to.header.ContentTypeName entity-guid=to.header.Guid field-name=options.key auto-load=true sub-folder="" folder-depth=to.settings.merged.FolderDepth metadata-content-types=to.settings.merged.MetadataContentTypes allow-assets-in-root=to.settings.merged.allowAssetsInRoot enable-select=false update-callback=vm.setValue register-self=vm.registerAdam></adam-browser><dropzone-upload-preview></dropzone-upload-preview><adam-hint></adam-hint></div></div>'),a.put("fields/string/string-font-icon-picker.html",'<div><div dropdown keyboard-nav auto-close=outsideClick is-open=vm.selectorIsOpen><div class="thumbnail-before-input icon-preview"><button type=button tooltip={{value.Value}} dropdown-toggle><i class="{{vm.previewPrefix}} {{value.Value}}" ng-show=value.Value></i> <span ng-show=!value.Value>&nbsp;&nbsp;</span></button></div><div class=input-group><input type=text class="form-control input-lg" ng-model=value.Value ng-disabled=false dropdown-toggle></div><ul class="dropdown-menu icons-menu-columns" role=menu><li class=input-group disable-auto-close><span class="input-group-addon btn-default btn" ng-click="value.Value = \'\'"><i class=icon-cancel></i></span> <input type=search ng-model=vm.iconFilter class="makePaymentDropdownSearchBox form-control input-lg" placeholder="search..."></li><li ng-repeat="icn in vm.icons" role=menuitem ng-show="icn.class.indexOf(vm.iconFilter) !== -1"><a ng-click=vm.setIcon(icn.class) xng-click="value.Value = icn.class; status.isopen = false;"><i class="{{vm.previewPrefix}} {{icn.class}}"></i> <span tooltip={{icn.class}}>...{{icn.class.substring(vm.prefix.length-1,25)}}</span></a></li></ul></div><div ng-if=vm.debug.on>Infos: found {{vm.icons.length}} items for prefix "{{vm.prefix}}" and will use "{{vm.previewPrefix}}" as a preview class. Selected is "{{value.Value}}" and files are: {{vm.files}}</div></div>'),
a.put("fields/string/string-wysiwyg-adv.html","<div>this would be an advanced, configurable WYSIWYG. It does not exist yet :).</div>"),a.put("fields/string/string-wysiwyg-dnn.html",'<iframe style="width:100%; border: 0" web-forms-bridge=vm.bridge bridge-type=wysiwyg bridge-sync-height=true></iframe>'),a.put("fields/string/string-wysiwyg-tinymce.html",'<div><div class=dropzone><div ui-tinymce=tinymceOptions ng-model=value.Value class=field-string-wysiwyg-mce-box></div><adam-browser content-type-name=to.header.ContentTypeName entity-guid=to.header.Guid field-name=options.key auto-load=false folder-depth=0 sub-folder="" update-callback=vm.setValue register-self=vm.registerAdam show-images-only=vm.adamModeImage ng-disabled=to.disabled></adam-browser><span id=dummyfocus tabindex=-1></span><dropzone-upload-preview></dropzone-upload-preview><adam-hint class=field-hints></adam-hint></div></div>')}]);
//# sourceMappingURL=sxc-edit.min.js.map